{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useRef, useEffect } from 'react';\nconst useSound = soundUrl => {\n  _s();\n  const audioRef = useRef(null);\n  const isPlayingRef = useRef(false);\n  const playPromiseRef = useRef(null);\n  useEffect(() => {\n    // Create audio element if it doesn't exist\n    if (!audioRef.current) {\n      audioRef.current = new Audio(soundUrl);\n      audioRef.current.loop = true;\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n    };\n  }, [soundUrl]);\n  const play = () => {\n    if (!isPlayingRef.current && audioRef.current) {\n      audioRef.current.play().catch(err => console.error(\"Audio play error:\", err));\n      isPlayingRef.current = true;\n    }\n  };\n  const stop = () => {\n    if (isPlayingRef.current && audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      isPlayingRef.current = false;\n    }\n  };\n  return {\n    play,\n    stop,\n    isPlaying: isPlayingRef.current\n  };\n};\n_s(useSound, \"41C0q4Mw/+hT32oWPyEj+MbresA=\");\nexport default useSound;","map":{"version":3,"names":["useRef","useEffect","useSound","soundUrl","_s","audioRef","isPlayingRef","playPromiseRef","current","Audio","loop","pause","play","catch","err","console","error","stop","currentTime","isPlaying"],"sources":["/home/leabrun/python_/KWORK/dj/front/src/useSound.jsx"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\nconst useSound = (soundUrl) => {\n  const audioRef = useRef(null);\n  const isPlayingRef = useRef(false);\n  const playPromiseRef = useRef(null);\n\n  useEffect(() => {\n    // Create audio element if it doesn't exist\n    if (!audioRef.current) {\n      audioRef.current = new Audio(soundUrl);\n      audioRef.current.loop = true;\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n    };\n  }, [soundUrl]);\n\n  const play = () => {\n    if (!isPlayingRef.current && audioRef.current) {\n      audioRef.current.play().catch(err => console.error(\"Audio play error:\", err));\n      isPlayingRef.current = true;\n    }\n  };\n\n  const stop = () => {\n    if (isPlayingRef.current && audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      isPlayingRef.current = false;\n    }\n  };\n\n  return { play, stop, isPlaying: isPlayingRef.current };\n};\n\nexport default useSound;"],"mappings":";AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAEzC,MAAMC,QAAQ,GAAIC,QAAQ,IAAK;EAAAC,EAAA;EAC7B,MAAMC,QAAQ,GAAGL,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMM,YAAY,GAAGN,MAAM,CAAC,KAAK,CAAC;EAClC,MAAMO,cAAc,GAAGP,MAAM,CAAC,IAAI,CAAC;EAEnCC,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACI,QAAQ,CAACG,OAAO,EAAE;MACrBH,QAAQ,CAACG,OAAO,GAAG,IAAIC,KAAK,CAACN,QAAQ,CAAC;MACtCE,QAAQ,CAACG,OAAO,CAACE,IAAI,GAAG,IAAI;IAC9B;;IAEA;IACA,OAAO,MAAM;MACX,IAAIL,QAAQ,CAACG,OAAO,EAAE;QACpBH,QAAQ,CAACG,OAAO,CAACG,KAAK,CAAC,CAAC;QACxBN,QAAQ,CAACG,OAAO,GAAG,IAAI;MACzB;IACF,CAAC;EACH,CAAC,EAAE,CAACL,QAAQ,CAAC,CAAC;EAEd,MAAMS,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAI,CAACN,YAAY,CAACE,OAAO,IAAIH,QAAQ,CAACG,OAAO,EAAE;MAC7CH,QAAQ,CAACG,OAAO,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC,CAAC;MAC7ER,YAAY,CAACE,OAAO,GAAG,IAAI;IAC7B;EACF,CAAC;EAED,MAAMS,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAIX,YAAY,CAACE,OAAO,IAAIH,QAAQ,CAACG,OAAO,EAAE;MAC5CH,QAAQ,CAACG,OAAO,CAACG,KAAK,CAAC,CAAC;MACxBN,QAAQ,CAACG,OAAO,CAACU,WAAW,GAAG,CAAC;MAChCZ,YAAY,CAACE,OAAO,GAAG,KAAK;IAC9B;EACF,CAAC;EAED,OAAO;IAAEI,IAAI;IAAEK,IAAI;IAAEE,SAAS,EAAEb,YAAY,CAACE;EAAQ,CAAC;AACxD,CAAC;AAACJ,EAAA,CArCIF,QAAQ;AAuCd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}