{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useRef, useEffect } from 'react';\nconst useSound = soundUrl => {\n  _s();\n  const audioRef = useRef(null);\n  const isPlayingRef = useRef(false);\n  useEffect(() => {\n    // Create audio element if it doesn't exist\n    if (!audioRef.current) {\n      audioRef.current = new Audio(soundUrl);\n      audioRef.current.loop = true;\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n    };\n  }, [soundUrl]);\n  const play = () => {\n    if (!isPlayingRef.current && audioRef.current) {\n      audioRef.current.play().catch(err => console.error(\"Audio play error:\", err));\n      isPlayingRef.current = true;\n    }\n  };\n  const stop = () => {\n    if (isPlayingRef.current && audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      isPlayingRef.current = false;\n    }\n  };\n  return {\n    play,\n    stop,\n    isPlaying: isPlayingRef.current\n  };\n};\n_s(useSound, \"9o7GkqEWgxRffZ0QVSD+0ldLrFc=\");\nexport default useSound;","map":{"version":3,"names":["useRef","useEffect","useSound","soundUrl","_s","audioRef","isPlayingRef","current","Audio","loop","pause","play","catch","err","console","error","stop","currentTime","isPlaying"],"sources":["/home/leabrun/python_/KWORK/dj/front/src/useSound.jsx"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\nconst useSound = (soundUrl) => {\n  const audioRef = useRef(null);\n  const isPlayingRef = useRef(false);\n\n  useEffect(() => {\n    // Create audio element if it doesn't exist\n    if (!audioRef.current) {\n      audioRef.current = new Audio(soundUrl);\n      audioRef.current.loop = true;\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n    };\n  }, [soundUrl]);\n\n  const play = () => {\n    if (!isPlayingRef.current && audioRef.current) {\n      audioRef.current.play().catch(err => console.error(\"Audio play error:\", err));\n      isPlayingRef.current = true;\n    }\n  };\n\n  const stop = () => {\n    if (isPlayingRef.current && audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      isPlayingRef.current = false;\n    }\n  };\n\n  return { play, stop, isPlaying: isPlayingRef.current };\n};\n\nexport default useSound;"],"mappings":";AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAEzC,MAAMC,QAAQ,GAAIC,QAAQ,IAAK;EAAAC,EAAA;EAC7B,MAAMC,QAAQ,GAAGL,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMM,YAAY,GAAGN,MAAM,CAAC,KAAK,CAAC;EAElCC,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACI,QAAQ,CAACE,OAAO,EAAE;MACrBF,QAAQ,CAACE,OAAO,GAAG,IAAIC,KAAK,CAACL,QAAQ,CAAC;MACtCE,QAAQ,CAACE,OAAO,CAACE,IAAI,GAAG,IAAI;IAC9B;;IAEA;IACA,OAAO,MAAM;MACX,IAAIJ,QAAQ,CAACE,OAAO,EAAE;QACpBF,QAAQ,CAACE,OAAO,CAACG,KAAK,CAAC,CAAC;QACxBL,QAAQ,CAACE,OAAO,GAAG,IAAI;MACzB;IACF,CAAC;EACH,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAEd,MAAMQ,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAI,CAACL,YAAY,CAACC,OAAO,IAAIF,QAAQ,CAACE,OAAO,EAAE;MAC7CF,QAAQ,CAACE,OAAO,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC,CAAC;MAC7EP,YAAY,CAACC,OAAO,GAAG,IAAI;IAC7B;EACF,CAAC;EAED,MAAMS,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAIV,YAAY,CAACC,OAAO,IAAIF,QAAQ,CAACE,OAAO,EAAE;MAC5CF,QAAQ,CAACE,OAAO,CAACG,KAAK,CAAC,CAAC;MACxBL,QAAQ,CAACE,OAAO,CAACU,WAAW,GAAG,CAAC;MAChCX,YAAY,CAACC,OAAO,GAAG,KAAK;IAC9B;EACF,CAAC;EAED,OAAO;IAAEI,IAAI;IAAEK,IAAI;IAAEE,SAAS,EAAEZ,YAAY,CAACC;EAAQ,CAAC;AACxD,CAAC;AAACH,EAAA,CApCIF,QAAQ;AAsCd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}