{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useRef, useEffect } from 'react';\nconst useSound = soundUrl => {\n  _s();\n  const audioRef = useRef(null);\n  const isPlayingRef = useRef(false);\n  const playPromiseRef = useRef(null);\n  const {\n    volume\n  } = useDJConsole();\n  useEffect(() => {\n    // Create audio element if it doesn't exist\n    if (!audioRef.current) {\n      audioRef.current = new Audio(soundUrl);\n      audioRef.current.loop = true;\n      audioRef.current.preload = 'auto';\n      audioRef.current.volume = volume;\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n    };\n  }, [soundUrl]);\n  const play = () => {\n    if (!isPlayingRef.current && audioRef.current) {\n      audioRef.current.play().catch(err => console.error(\"Audio play error:\", err));\n      isPlayingRef.current = true;\n    }\n  };\n  const stop = () => {\n    if (isPlayingRef.current && audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      isPlayingRef.current = false;\n    }\n  };\n  return {\n    play,\n    stop,\n    isPlaying: isPlayingRef.current\n  };\n};\n_s(useSound, \"urQyHkkxqqh7jOCwy+fPQW+45Dw=\", true);\nexport default useSound;","map":{"version":3,"names":["useRef","useEffect","useSound","soundUrl","_s","audioRef","isPlayingRef","playPromiseRef","volume","useDJConsole","current","Audio","loop","preload","pause","play","catch","err","console","error","stop","currentTime","isPlaying"],"sources":["/home/leabrun/python_/KWORK/dj/front/src/useSound.jsx"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\nconst useSound = (soundUrl) => {\n  const audioRef = useRef(null);\n  const isPlayingRef = useRef(false);\n  const playPromiseRef = useRef(null);\n\n  const { volume } = useDJConsole();\n\n  useEffect(() => {\n    // Create audio element if it doesn't exist\n    if (!audioRef.current) {\n      audioRef.current = new Audio(soundUrl);\n      audioRef.current.loop = true;\n      audioRef.current.preload = 'auto';\n      audioRef.current.volume = volume;\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n    };\n  }, [soundUrl]);\n\n  const play = () => {\n    if (!isPlayingRef.current && audioRef.current) {\n      audioRef.current.play().catch(err => console.error(\"Audio play error:\", err));\n      isPlayingRef.current = true;\n    }\n  };\n\n  const stop = () => {\n    if (isPlayingRef.current && audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      isPlayingRef.current = false;\n    }\n  };\n\n  return { play, stop, isPlaying: isPlayingRef.current };\n};\n\nexport default useSound;"],"mappings":";AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAEzC,MAAMC,QAAQ,GAAIC,QAAQ,IAAK;EAAAC,EAAA;EAC7B,MAAMC,QAAQ,GAAGL,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMM,YAAY,GAAGN,MAAM,CAAC,KAAK,CAAC;EAClC,MAAMO,cAAc,GAAGP,MAAM,CAAC,IAAI,CAAC;EAEnC,MAAM;IAAEQ;EAAO,CAAC,GAAGC,YAAY,CAAC,CAAC;EAEjCR,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACI,QAAQ,CAACK,OAAO,EAAE;MACrBL,QAAQ,CAACK,OAAO,GAAG,IAAIC,KAAK,CAACR,QAAQ,CAAC;MACtCE,QAAQ,CAACK,OAAO,CAACE,IAAI,GAAG,IAAI;MAC5BP,QAAQ,CAACK,OAAO,CAACG,OAAO,GAAG,MAAM;MACjCR,QAAQ,CAACK,OAAO,CAACF,MAAM,GAAGA,MAAM;IAClC;;IAEA;IACA,OAAO,MAAM;MACX,IAAIH,QAAQ,CAACK,OAAO,EAAE;QACpBL,QAAQ,CAACK,OAAO,CAACI,KAAK,CAAC,CAAC;QACxBT,QAAQ,CAACK,OAAO,GAAG,IAAI;MACzB;IACF,CAAC;EACH,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;EAEd,MAAMY,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAI,CAACT,YAAY,CAACI,OAAO,IAAIL,QAAQ,CAACK,OAAO,EAAE;MAC7CL,QAAQ,CAACK,OAAO,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC,CAAC;MAC7EX,YAAY,CAACI,OAAO,GAAG,IAAI;IAC7B;EACF,CAAC;EAED,MAAMU,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAId,YAAY,CAACI,OAAO,IAAIL,QAAQ,CAACK,OAAO,EAAE;MAC5CL,QAAQ,CAACK,OAAO,CAACI,KAAK,CAAC,CAAC;MACxBT,QAAQ,CAACK,OAAO,CAACW,WAAW,GAAG,CAAC;MAChCf,YAAY,CAACI,OAAO,GAAG,KAAK;IAC9B;EACF,CAAC;EAED,OAAO;IAAEK,IAAI;IAAEK,IAAI;IAAEE,SAAS,EAAEhB,YAAY,CAACI;EAAQ,CAAC;AACxD,CAAC;AAACN,EAAA,CAzCIF,QAAQ;AA2Cd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}